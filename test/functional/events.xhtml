<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<!-- BEGIN:X3DOM -->
<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" />
<link rel="stylesheet" type="text/css" href="../../src/x3dom.css" />
<script type="text/javascript" src="../../src/lang/Array.js"></script>
<script type="text/javascript" src="../../src/Internals.js"></script>
<script type="text/javascript" src="../../src/debug.js"></script>
<script type="text/javascript" src="../../src/ImageLoadManager.js"></script>
<script type="text/javascript" src="../../src/util/Properties.js"></script>
<script type="text/javascript" src="../../src/util/DoublyLinkedList.js"></script>
<script type="text/javascript" src="../../src/util/EarClipping.js"></script>
<script type="text/javascript" src="../../src/X3DCanvas.js"></script>
<script type="text/javascript" src="../../src/Runtime.js"></script>
<script type="text/javascript" src="../../src/Main.js"></script>
<script type="text/javascript" src="../../src/gfx_webgl.js"></script>
<script type="text/javascript" src="../../src/gfx_flash.js"></script>
<script type="text/javascript" src="../../src/X3DDocument.js"></script>
<script type="text/javascript" src="../../src/MatrixMixer.js"></script>
<script type="text/javascript" src="../../src/Viewarea.js"></script>
<script type="text/javascript" src="../../src/Mesh.js"></script>
<script type="text/javascript" src="../../src/fields.js"></script>
<script type="text/javascript" src="../../src/nodes/NodeNameSpace.js"></script>
<script type="text/javascript" src="../../src/nodes/Core.js"></script>
<script type="text/javascript" src="../../src/nodes/Grouping.js"></script>
<script type="text/javascript" src="../../src/nodes/Bindable.js"></script>
<script type="text/javascript" src="../../src/nodes/Rendering.js"></script>
<script type="text/javascript" src="../../src/nodes/Shape.js"></script>
<script type="text/javascript" src="../../src/nodes/Lighting.js"></script>
<script type="text/javascript" src="../../src/nodes/Followers.js"></script>
<script type="text/javascript" src="../../src/nodes/Interpolation.js"></script>
<script type="text/javascript" src="../../src/nodes/Time.js"></script>
<script type="text/javascript" src="../../src/nodes/Networking.js"></script>
<script type="text/javascript" src="../../src/nodes/EnvironmentalEffects.js"></script>
<script type="text/javascript" src="../../src/nodes/Navigation.js"></script>
<script type="text/javascript" src="../../src/nodes/Text.js"></script>
<script type="text/javascript" src="../../src/nodes/Sound.js"></script>
<script type="text/javascript" src="../../src/nodes/Texturing.js"></script>
<script type="text/javascript" src="../../src/nodes/Shaders.js"></script>
<script type="text/javascript" src="../../src/nodes/Geometry3D.js"></script>
<script type="text/javascript" src="../../src/nodes/Geospatial.js"></script>
<script type="text/javascript" src="../../src/nodes/Geometry2D.js"></script>
<script type="text/javascript" src="../../src/nodes/VolumeRendering.js"></script>
<script type="text/javascript" src="../../src/Docs.js"></script>
<!-- END:X3DOM -->

    <!-- BEGIN:TEST -->
    <script type="text/javascript" src="media/js/tests.js"></script>
    <!-- END:TEST -->
    
<script>
<![CDATA[
  var clicked = function(event)
  {
    document.getElementById('mouseClickEvent').innerHTML = "Click: [" + event.hitPnt[0] + " | " + event.hitPnt[1] + " | " + event.hitPnt[2] + "]";
  };
  
  var transform = function(event)
  {
    document.getElementById('transformEvent').innerHTML = "Transform: [" + event.worldX + " | " + event.worldY + " | " + event.worldZ + "]";
  };
  
  function init()
  {
    document.getElementById('box_2_2_id').addEventListener('click', clicked, false);
    document.getElementById('box_2_2_id').addEventListener('transform', transform, false);
  };
  ]]>
</script>
    
  </head>
  <body onLoad="init();">
  
  <X3D xmlns="http://www.web3d.org/specifications/x3d-namespace" id="boxes" showStat="true" showLog="true" width="500px" height="500px">
    <scene DEF="scene">
      <viewpoint position="16.0328 13.056 34.2417" orientation="-0.624839 0.780206 0.0292506 0.543473"></viewpoint>
      
      <transform scale="2.5 2.5 2.5">
        
        <shape id="box_1_id" DEF="box_1">
          <box size='0.5 0.5 0.5' />
        </shape>
        
        <transform id="box_2_id" DEF="box_2">
          <transform translation='0 0 5' id="box_2_2_id"
            onmouseover="document.getElementById('mouseOverEvent').innerHTML='Mouse: over';"
            onmouseout= "document.getElementById('mouseOverEvent').innerHTML='Mouse: out';">
            <shape>
              <appearance>
                <material diffuseColor='1 0 0' />	
              </appearance>
              <box />
            </shape>
          </transform>
        </transform>
      </transform>
      
      <timesensor DEF="TIMER" cycleInterval="30" loop="true"></timesensor>
      <orientationinterpolator DEF="ROTOR_A" key="0 0.5 1" keyValue="1 0 0 0, 1 0 0 3.14, 1 0 0 6.28"></orientationinterpolator>
      
      <route fromNode="TIMER" fromField="fraction_changed" toNode="ROTOR_A" toField="set_fraction"></route>
      <route fromNode="ROTOR_A" fromField="value_changed" toNode="box_2" toField="rotation"></route>
      
    </scene>
  </X3D>

  <p id="mouseOverEvent" class="case">Mouse: xxx</p>
  <p id="mouseClickEvent" class="case">Click: xxx</p>
  <p id="transformEvent" class="case">Transform: xxx</p>
  
  </body>
</html>